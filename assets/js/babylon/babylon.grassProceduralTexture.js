!function(r,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("babylonjs")):"function"==typeof define&&define.amd?define("babylonjs-procedural-textures",["babylonjs"],o):"object"==typeof exports?exports["babylonjs-procedural-textures"]=o(require("babylonjs")):r.PROCEDURALTEXTURES=o(r.BABYLON)}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this,(r=>(()=>{"use strict";var o={597:o=>{o.exports=r}},e={};function t(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return o[r](s,s.exports,t),s.exports}t.d=(r,o)=>{for(var e in o)t.o(o,e)&&!t.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:o[e]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),t.o=(r,o)=>Object.prototype.hasOwnProperty.call(r,o),t.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};t.d(n,{default:()=>p});var s={};t.r(s),t.d(s,{GrassProceduralTexture:()=>c});var l={};t.r(l),t.d(l,{GrassProceduralTexture:()=>c});var i=function(r,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(r[e]=o[e])},i(r,o)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var a=t(597),u="grassProceduralTexturePixelShader";a.ShaderStore.ShadersStore[u]||(a.ShaderStore.ShadersStore[u]="precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform vec3 herb1Color;uniform vec3 herb2Color;uniform vec3 herb3Color;uniform vec3 groundColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}\nfloat noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}\nfloat fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}\nreturn total;}\n#define CUSTOM_FRAGMENT_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\nvec3 color=mix(groundColor,herb1Color,rand(gl_FragCoord.xy*4.0));color=mix(color,herb2Color,rand(gl_FragCoord.xy*8.0));color=mix(color,herb3Color,rand(gl_FragCoord.xy));color=mix(color,herb1Color,fbm(gl_FragCoord.xy*16.0));gl_FragColor=vec4(color,1.0);\n#define CUSTOM_FRAGMENT_MAIN_END\n}");var c=function(r){function o(o,e,t,n,s){void 0===t&&(t=null);var l=r.call(this,o,e,"grassProceduralTexture",t,n,s)||this;return l._groundColor=new a.Color3(1,1,1),l._grassColors=[new a.Color3(.44,.58,.027),new a.Color3(.36,.49,.09),new a.Color3(.51,.6,.28)],l.updateShaderUniforms(),l}return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}i(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,r),o.prototype.updateShaderUniforms=function(){this.setColor3("herb1Color",this._grassColors[0]),this.setColor3("herb2Color",this._grassColors[1]),this.setColor3("herb3Color",this._grassColors[2]),this.setColor3("groundColor",this._groundColor)},Object.defineProperty(o.prototype,"grassColors",{get:function(){return this._grassColors},set:function(r){this._grassColors=r,this.updateShaderUniforms()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"groundColor",{get:function(){return this._groundColor},set:function(r){this._groundColor=r,this.updateShaderUniforms()},enumerable:!1,configurable:!0}),o.prototype.serialize=function(){var o=a.SerializationHelper.Serialize(this,r.prototype.serialize.call(this));o.customType="BABYLON.GrassProceduralTexture",o.grassColors=[];for(var e=0;e<this._grassColors.length;e++)o.grassColors.push(this._grassColors[e].asArray());return o},o.Parse=function(r,e,t){for(var n=a.SerializationHelper.Parse((function(){return new o(r.name,r._size,e,void 0,r._generateMipMaps)}),r,e,t),s=[],l=0;l<r.grassColors.length;l++)s.push(a.Color3.FromArray(r.grassColors[l]));return n.grassColors=s,n},function(r,o,e,t){var n,s=arguments.length,l=s<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,o,e,t);else for(var i=r.length-1;i>=0;i--)(n=r[i])&&(l=(s<3?n(l):s>3?n(o,e,l):n(o,e))||l);s>3&&l&&Object.defineProperty(o,e,l)}([(0,a.serializeAsColor3)()],o.prototype,"groundColor",null),o}(a.ProceduralTexture);(0,a.RegisterClass)("BABYLON.GrassProceduralTexture",c);var d=void 0!==t.g?t.g:"undefined"!=typeof window?window:void 0;if(void 0!==d)for(var f in s)d.BABYLON[f]=s[f];const p=l;return n.default})()));
//# sourceMappingURL=babylon.grassProceduralTexture.min.js.map